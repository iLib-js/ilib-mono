<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>MathUtils.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ISet.html">ISet</a><ul class='methods'><li data-type='method'><a href="ISet.html#add">add</a></li><li data-type='method'><a href="ISet.html#asArray">asArray</a></li><li data-type='method'><a href="ISet.html#clear">clear</a></li><li data-type='method'><a href="ISet.html#contains">contains</a></li><li data-type='method'><a href="ISet.html#fromJS">fromJS</a></li><li data-type='method'><a href="ISet.html#isEmpty">isEmpty</a></li><li data-type='method'><a href="ISet.html#remove">remove</a></li><li data-type='method'><a href="ISet.html#toJS">toJS</a></li><li data-type='method'><a href="ISet.html#toJson">toJson</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-JSUtils.html">JSUtils</a><ul class='methods'><li data-type='method'><a href="module-JSUtils.html#.callAll">callAll</a></li><li data-type='method'><a href="module-JSUtils.html#.deepCopy">deepCopy</a></li><li data-type='method'><a href="module-JSUtils.html#.extend">extend</a></li><li data-type='method'><a href="module-JSUtils.html#.fromCodePoint">fromCodePoint</a></li><li data-type='method'><a href="module-JSUtils.html#.hashCode">hashCode</a></li><li data-type='method'><a href="module-JSUtils.html#.indexOf">indexOf</a></li><li data-type='method'><a href="module-JSUtils.html#.isArray">isArray</a></li><li data-type='method'><a href="module-JSUtils.html#.isDate">isDate</a></li><li data-type='method'><a href="module-JSUtils.html#.isEmpty">isEmpty</a></li><li data-type='method'><a href="module-JSUtils.html#.mapString">mapString</a></li><li data-type='method'><a href="module-JSUtils.html#.merge">merge</a></li><li data-type='method'><a href="module-JSUtils.html#.pad">pad</a></li><li data-type='method'><a href="module-JSUtils.html#.shallowCopy">shallowCopy</a></li><li data-type='method'><a href="module-JSUtils.html#.toCodePoint">toCodePoint</a></li><li data-type='method'><a href="module-JSUtils.html#.toHexString">toHexString</a></li></ul></li><li><a href="module-MathUtils.html">MathUtils</a><ul class='methods'><li data-type='method'><a href="module-MathUtils.html#.amod">amod</a></li><li data-type='method'><a href="module-MathUtils.html#.ceiling">ceiling</a></li><li data-type='method'><a href="module-MathUtils.html#.down">down</a></li><li data-type='method'><a href="module-MathUtils.html#.floor">floor</a></li><li data-type='method'><a href="module-MathUtils.html#.halfdown">halfdown</a></li><li data-type='method'><a href="module-MathUtils.html#.halfeven">halfeven</a></li><li data-type='method'><a href="module-MathUtils.html#.halfodd">halfodd</a></li><li data-type='method'><a href="module-MathUtils.html#.halfup">halfup</a></li><li data-type='method'><a href="module-MathUtils.html#.log10">log10</a></li><li data-type='method'><a href="module-MathUtils.html#.mod">mod</a></li><li data-type='method'><a href="module-MathUtils.html#.shiftDecimal">shiftDecimal</a></li><li data-type='method'><a href="module-MathUtils.html#.significant">significant</a></li><li data-type='method'><a href="module-MathUtils.html#.signum">signum</a></li><li data-type='method'><a href="module-MathUtils.html#.up">up</a></li></ul></li><li><a href="module-Path.html">Path</a></li><li><a href="module-SearchUtils.html">SearchUtils</a><ul class='methods'><li data-type='method'><a href="module-SearchUtils.html#.bisectionSearch">bisectionSearch</a></li><li data-type='method'><a href="module-SearchUtils.html#.bsearch">bsearch</a></li></ul></li><li><a href="module-Utils.html">Utils</a><ul class='methods'><li data-type='method'><a href="module-Utils.html#.getLocFiles">getLocFiles</a></li><li data-type='method'><a href="module-Utils.html#.getSublocales">getSublocales</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">MathUtils.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * MathUtils.js - Misc math utility routines
 *
 * Copyright Â© 2013-2015, 2018, 2022 JEDLSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @module MathUtils
 */

/**
 * Return the sign of the given number. If the sign is negative, this function
 * returns -1. If the sign is positive or zero, this function returns 1.
 * @static
 * @param {number} num the number to test
 * @return {number} -1 if the number is negative, and 1 otherwise
 */
export function signum(num) {
    var n = num;
    if (typeof(num) === 'string') {
        n = parseInt(num, 10);
    } else if (typeof(num) !== 'number') {
        return 1;
    }
    return (n &lt; 0) ? -1 : 1;
};

/**
 * @static
 * @protected
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function floor(num) {
    return Math.floor(num);
};

/**
 * @static
 * @protected
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function ceiling(num) {
    return Math.ceil(num);
};

/**
 * Round a number towards 0.
 *
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function down(num) {
    return (num &lt; 0) ? Math.ceil(num) : Math.floor(num);
};

/**
 * Round a number away from 0.
 *
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function up(num) {
    return (num &lt; 0) ? Math.floor(num) : Math.ceil(num);
};

/**
 * Round a number up away from 0 if it is half way or larger, otherwise
 * round down.
 *
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function halfup(num) {
    return (num &lt; 0) ? Math.ceil(num - 0.5) : Math.floor(num + 0.5);
};

/**
 * Round a number down towards 0 if it is half way or smaller, otherwise
 * round up.
 *
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function halfdown(num) {
    return (num &lt; 0) ? Math.floor(num + 0.5) : Math.ceil(num - 0.5);
};

/**
 * Round numbers up to the closest even number.
 *
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function halfeven(num) {
    return (Math.floor(num) % 2 === 0) ? Math.ceil(num - 0.5) : Math.floor(num + 0.5);
};

/**
 * Round numbers up to the closest odd number.
 *
 * @param {number} num number to round
 * @return {number} rounded number
 */
export function halfodd(num) {
    return (Math.floor(num) % 2 !== 0) ? Math.ceil(num - 0.5) : Math.floor(num + 0.5);
};

/**
 * Do a proper modulo function. The Javascript % operator will give the truncated
 * division algorithm, but for calendrical calculations, we need the Euclidean
 * division algorithm where the remainder of any division, whether the dividend
 * is negative or not, is always a positive number in the range [0, modulus).&lt;p>
 *
 * @param {number} dividend the number being divided
 * @param {number} modulus the number dividing the dividend. This should always be a positive number.
 * @return the remainder of dividing the dividend by the modulus.
 */
export function mod(dividend, modulus) {
    if (modulus == 0) {
        return 0;
    }
    var x = dividend % modulus;
    return (x &lt; 0) ? x + modulus : x;
};

/**
 * Do a proper adjusted modulo function. The Javascript % operator will give the truncated
 * division algorithm, but for calendrical calculations, we need the Euclidean
 * division algorithm where the remainder of any division, whether the dividend
 * is negative or not, is always a positive number in the range (0, modulus]. The adjusted
 * modulo function differs from the regular modulo function in that when the remainder is
 * zero, the modulus should be returned instead.&lt;p>
 *
 * @param {number} dividend the number being divided
 * @param {number} modulus the number dividing the dividend. This should always be a positive number.
 * @return the remainder of dividing the dividend by the modulus.
 */
export function amod(dividend, modulus) {
    if (modulus == 0) {
        return 0;
    }
    var x = dividend % modulus;
    return (x &lt;= 0) ? x + modulus : x;
};

/**
 * Return the number with the decimal shifted by the given precision.
 * Positive precisions shift the decimal to the right giving larger
 * numbers, and negative ones shift the decimal to the left giving
 * smaller numbers.
 *
 * @param {number} number the number to shift
 * @param {number} precision the number of places to move the decimal point
 * @returns {number} the number with the decimal point shifted by the
 * given number of decimals
 */
export function shiftDecimal(number, precision) {
    var numArray = ("" + number).split("e");
    return +(numArray[0] + "e" + (numArray[1] ? (+numArray[1] + precision) : precision));
};

/**
 * Returns the base 10 logarithm of a number. For platforms that support
 * Math.log10() it is used directly. For plaforms that do not, such as Qt/QML,
 * it will be calculated using a polyfill.
 *
 * @param {number} num the number to take the logarithm of
 * @returns {number} the base-10 logarithm of the given number
 */
export function log10(num) {
    if (typeof(Math.log10) === "function") {
        return Math.log10(num);
    }

    return Math.log(num) / Math.LN10;
};

/**
 * Return the given number with only the given number of significant digits.
 * The number of significant digits can start with the digits greater than
 * 1 and straddle the decimal point, or it may start after the decimal point.
 * If the number of digits requested is less than 1, the original number
 * will be returned unchanged.
 *
 * @static
 * @param {number} number the number to return with only significant digits
 * @param {number} digits the number of significant digits to include in the
 * returned number
 * @param {function(number): number=} round a rounding function to use
 * @returns {number} the given number with only the requested number of
 * significant digits
 */
export function significant(number, digits, round) {
    if (digits &lt; 1 || number === 0) return number;
    var rnd = round || Math.round;
    var factor = -Math.floor(log10(Math.abs(number))) + digits - 1;
    return shiftDecimal(rnd(shiftDecimal(number, factor)), -factor);
};
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Tue Jan 14 2025 12:02:38 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
