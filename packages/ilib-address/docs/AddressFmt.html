<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>AddressFmt - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Address.html">Address</a><ul class='methods'><li data-type='method'><a href="Address.html#.create">create</a></li></ul></li><li><a href="AddressFmt.html">AddressFmt</a><ul class='methods'><li data-type='method'><a href="AddressFmt.html#format">format</a></li><li data-type='method'><a href="AddressFmt.html#getFormatInfo">getFormatInfo</a></li><li data-type='method'><a href="AddressFmt.html#.create">create</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">AddressFmt</h1>
    

    




<section>

<header>
    
        <h2>
        
            AddressFmt
        
        </h2>
        
            <div class="class-description usertext">Format mailing addresses</div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="AddressFmt"><span class="type-signature"></span>new AddressFmt<span class="signature">(options)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Create a new formatter object to format physical addresses in a particular way.

The options object may contain the following properties, both of which are optional:

<ul>
<li><i>locale</i> - the locale to use to format this address. If not specified, it uses the default locale

<li><i>style</i> - the style of this address. The default style for each country usually includes all valid
fields for that country.
</ul></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="AddressFmt.js.html">AddressFmt.js</a>, <a href="AddressFmt.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last">options that configure how this formatter should work
Returns a formatter instance that can format multiple addresses.</td>
        </tr>

    
    </tbody>
</table>



















        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="format"><span class="type-signature"></span>format<span class="signature">(address)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>This function formats a physical address (Address instance) for display.
Whitespace is trimmed from the beginning and end of final resulting string, and
multiple consecutive whitespace characters in the middle of the string are
compressed down to 1 space character.

If the Address instance is for a locale that is different than the locale for this
formatter, then a hybrid address is produced. The country name is located in the
correct spot for the current formatter's locale, but the rest of the fields are
formatted according to the default style of the locale of the actual address.

Example: a mailing address in China, but formatted for the US might produce the words
"People's Republic of China" in English at the last line of the address, and the
Chinese-style address will appear in the first line of the address. In the US, the
country is on the last line, but in China the country is usually on the first line.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="AddressFmt.js.html">AddressFmt.js</a>, <a href="AddressFmt.js.html#line247">line 247</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>address</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Address.html">Address</a></span>



            
            </td>

            

            

            <td class="description last">Address to format</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    Returns a string containing the formatted address
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getFormatInfo"><span class="type-signature"></span>getFormatInfo<span class="signature">(locale)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return information about the address format that can be used
by UI builders to display a locale-sensitive set of input fields
based on the current formatter's settings.<p>

The object returned by this method is an array of address rows. Each
row is itself an array which may have one to four address
components in that row. Each address component is an object
that contains a component property and a label to display
with it. The label is written in the given locale, or the
locale of this formatter if it was not given.<p>

Optionally, if the address component is constrained to a
particular pattern or to a fixed list of possible values, then
the constraint rules are given in the "constraint" property.<p>

If an address component must conform to a particular pattern,
the regular expression that matches that pattern
is returned in "constraint". Mostly, it is only the postal code
component that can be validated in this way.<p>

If an address component should be limited
to a fixed list of values, then the constraint property will be
set to an array that lists those values. The constraint contains
an array of objects in the correct sorted order for the locale
where each object contains an code property containing the ISO code,
and a name field to show in UI.
The ISO codes should not be shown to the user and are intended to
represent the values in code. The names are translated to the given
locale or to the locale of this formatter if it was not given. For
the most part, it is the region and country components that
are constrained in this way.<p>

Here is what the result would look like for a US address:
<pre>
[
  [{
    "component": "streetAddress",
    "label": "Street Address"
  }],
  [{
    "component": "locality",
    "label": "City"
  },{
    "component": "region",
    "label": "State",
    "constraint": [{
      "code": "AL",
      "name": "Alabama"
    },{
      "code": "AK",
      "name": "Alaska"
    },{
      ...
    },{
      "code": "WY",
      "name": "Wyoming"
    }
  },{
    "component": "postalCode",
    "label": "Zip Code",
    "constraint": "[0-9]{5}(-[0-9]{4})?"
  }],
  [{
    "component": "country",
    "label": "Country",
    "constraint": [{
        "code": "AF",
        "name": "Afghanistan"
      },{
        "code": "AL",
        "name": "Albania"
      },{
      ...
      },{
        "code": "ZW",
        "name": "Zimbabwe"
    }]
  }]
]
</pre>
<p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="AddressFmt.js.html">AddressFmt.js</a>, <a href="AddressFmt.js.html#line402">line 402</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
        <p class="code-caption">Example of calling the getFormatInfo method</p>
    
    <pre class="prettyprint"><code>// the AddressFmt should be created with the locale of the address you
// would like the user to enter. For example, if you have a "country"
// selector, you would create a new AddressFmt instance each time the
// selector is changed.
new AddressFmt({
  locale: 'nl-NL', // for addresses in the Netherlands
  onLoad: ilib.bind(this, function(fmt) {
    // The following is the locale of the UI you would like to see the labels
    // like "City" and "Postal Code" translated to. In this example, we
    // are showing an input form for Dutch addresses, but the labels are
    // written in US English.
    fmt.getAddressFormatInfo("en-US", true, ilib.bind(this, function(rows) {
      // iterate through the rows array and dynamically create the input
      // elements with the given labels
    }));
  })
});</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>locale</code></td>
            

            <td class="type">
            
                
<span class="param-type">Locale</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">the locale to translate the labels
to. If not given, the locale of the formatter will be used.</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    a promise to load the requested info
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".create"><span class="type-signature type-signature-static">(static) </span>create<span class="signature">(freeformAddress, options)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Factory method to create a new instance of AddressFmt asynchronously.
The parameters are the same as for the constructor, but it returns
a `Promise` instead of the instance directly.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="AddressFmt.js.html">AddressFmt.js</a>, <a href="AddressFmt.js.html#line153">line 153</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>freeformAddress</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Address.html">Address</a></span>



            
            </td>

            

            

            <td class="description last">free-form address to parse, or a
javascript object containing the fields</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last">the same objects you would send to a constructor</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    a promise to load a AddressFmt instance. The resolved
value of the promise is the new instance of AddressFmt,
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Tue Jan 14 2025 12:02:45 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>