<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>ISet.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ISet.html">ISet</a><ul class='methods'><li data-type='method'><a href="ISet.html#add">add</a></li><li data-type='method'><a href="ISet.html#asArray">asArray</a></li><li data-type='method'><a href="ISet.html#clear">clear</a></li><li data-type='method'><a href="ISet.html#contains">contains</a></li><li data-type='method'><a href="ISet.html#fromJS">fromJS</a></li><li data-type='method'><a href="ISet.html#isEmpty">isEmpty</a></li><li data-type='method'><a href="ISet.html#remove">remove</a></li><li data-type='method'><a href="ISet.html#toJS">toJS</a></li><li data-type='method'><a href="ISet.html#toJson">toJson</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-JSUtils.html">JSUtils</a><ul class='methods'><li data-type='method'><a href="module-JSUtils.html#.callAll">callAll</a></li><li data-type='method'><a href="module-JSUtils.html#.deepCopy">deepCopy</a></li><li data-type='method'><a href="module-JSUtils.html#.extend">extend</a></li><li data-type='method'><a href="module-JSUtils.html#.fromCodePoint">fromCodePoint</a></li><li data-type='method'><a href="module-JSUtils.html#.hashCode">hashCode</a></li><li data-type='method'><a href="module-JSUtils.html#.indexOf">indexOf</a></li><li data-type='method'><a href="module-JSUtils.html#.isArray">isArray</a></li><li data-type='method'><a href="module-JSUtils.html#.isDate">isDate</a></li><li data-type='method'><a href="module-JSUtils.html#.isEmpty">isEmpty</a></li><li data-type='method'><a href="module-JSUtils.html#.mapString">mapString</a></li><li data-type='method'><a href="module-JSUtils.html#.merge">merge</a></li><li data-type='method'><a href="module-JSUtils.html#.pad">pad</a></li><li data-type='method'><a href="module-JSUtils.html#.shallowCopy">shallowCopy</a></li><li data-type='method'><a href="module-JSUtils.html#.toCodePoint">toCodePoint</a></li><li data-type='method'><a href="module-JSUtils.html#.toHexString">toHexString</a></li></ul></li><li><a href="module-MathUtils.html">MathUtils</a><ul class='methods'><li data-type='method'><a href="module-MathUtils.html#.amod">amod</a></li><li data-type='method'><a href="module-MathUtils.html#.ceiling">ceiling</a></li><li data-type='method'><a href="module-MathUtils.html#.down">down</a></li><li data-type='method'><a href="module-MathUtils.html#.floor">floor</a></li><li data-type='method'><a href="module-MathUtils.html#.halfdown">halfdown</a></li><li data-type='method'><a href="module-MathUtils.html#.halfeven">halfeven</a></li><li data-type='method'><a href="module-MathUtils.html#.halfodd">halfodd</a></li><li data-type='method'><a href="module-MathUtils.html#.halfup">halfup</a></li><li data-type='method'><a href="module-MathUtils.html#.log10">log10</a></li><li data-type='method'><a href="module-MathUtils.html#.mod">mod</a></li><li data-type='method'><a href="module-MathUtils.html#.shiftDecimal">shiftDecimal</a></li><li data-type='method'><a href="module-MathUtils.html#.significant">significant</a></li><li data-type='method'><a href="module-MathUtils.html#.signum">signum</a></li><li data-type='method'><a href="module-MathUtils.html#.up">up</a></li></ul></li><li><a href="module-Path.html">Path</a></li><li><a href="module-SearchUtils.html">SearchUtils</a><ul class='methods'><li data-type='method'><a href="module-SearchUtils.html#.bisectionSearch">bisectionSearch</a></li><li data-type='method'><a href="module-SearchUtils.html#.bsearch">bsearch</a></li></ul></li><li><a href="module-Utils.html">Utils</a><ul class='methods'><li data-type='method'><a href="module-Utils.html#.getLocFiles">getLocFiles</a></li><li data-type='method'><a href="module-Utils.html#.getSublocales">getSublocales</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">ISet.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * ISet.js - ilib Set class definition for platforms older than ES6
 * (basically a polyfill for Set)
 *
 * Copyright Â© 2015, 2021-2022 JEDLSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @class A polyfill for Set in older browsers.
 */
class ISet {
    /**
     * Create a new set with elements in the given array. The type of
     * the set is gleaned from the type of the first element in the
     * elements array, or the first element added to the set. The type
     * may be "string" or "number", and all elements will be returned
     * as elements of that type.
     *
     * @param {Array.&lt;string|number>=} elements initial elements to add to the set
     * @constructor
     */
    constructor(elements) {
        this.elements = {};

        if (elements &amp;&amp; elements.length) {
            for (var i = 0; i &lt; elements.length; i++) {
                this.elements[elements[i]] = true;
            }

            this.type = typeof(elements[0]);
        }
    }

    /**
     * @private
     */
    _addOne(element) {
        if (this.isEmpty()) {
            this.type = typeof(element);
        }

        if (!this.elements[element]) {
            this.elements[element] = true;
            return true;
        }

        return false;
    }

    /**
     * Adds the specified element or array of elements to this set if it is or they are not
     * already present.
     *
     * @param {*|Array.&lt;*>} element element or array of elements to add
     * @return {boolean} true if this set did not already contain the specified element[s]
     */
    add(element) {
        var ret = false;

        if (typeof(element) === "object") {
            for (var i = 0; i &lt; element.length; i++) {
                ret = this._addOne(element[i]) || ret;
            }
        } else {
            ret = this._addOne(element);
        }

        return ret;
    }

    /**
     * Removes all of the elements from this set.
     */
    clear() {
        this.elements = {};
    }

    /**
     * Returns true if this set contains the specified element.
     * @param {*} element the element to test
     * @return {boolean}
     */
    contains(element) {
        return this.elements[element] || false;
    }


    /**
     * Returns true if this set contains no elements.
     * @return {boolean}
     */
    isEmpty() {
        return (Object.keys(this.elements).length === 0);
    }

    /**
     * Removes the specified element from this set if it is present.
     * @param {*} element the element to remove
     * @return {boolean} true if the set contained the specified element
     */
    remove(element) {
        if (this.elements[element]) {
            delete this.elements[element];
            return true;
        }

        return false;
    }

    /**
     * Return the set as a javascript array.
     * @return {Array.&lt;*>} the set represented as a javascript array
     */
    asArray() {
        var keys = Object.keys(this.elements);

        // keys is an array of strings. Convert to numbers if necessary
        if (this.type === "number") {
            var tmp = [];
            for (var i = 0; i &lt; keys.length; i++) {
                tmp.push(Number(keys[i]).valueOf());
            }
            keys = tmp;
        }

        return keys;
    }

    /**
     * Represents the current set as json.
     * @return {string} the current set represented as json
     */
    toJson() {
        return JSON.stringify(this.asArray());
    }

    /**
     * Convert to a javascript representation of this object.
     * In this case, it is a normal JS array.
     * @return {*} the JS representation of this object
     */
    toJS() {
        return this.asArray();
    }

    /**
     * Convert from a js representation to an internal one.
     * @return {ISet|undefined} the current object, or undefined if the conversion did not work
     */
    fromJS(obj) {
        return this.add(obj) ? this : undefined;
    }
}

ISet.prototype.has = ISet.prototype.contains; // for compatibility with ES6

export default ISet;</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Tue Jan 14 2025 12:02:38 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
