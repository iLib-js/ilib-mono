<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Global - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addParam">addParam</a></li><li><a href="global.html#addText">addText</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#getCurrentLevel">getCurrentLevel</a></li><li><a href="global.html#getExtra">getExtra</a></li><li><a href="global.html#getMapping">getMapping</a></li><li><a href="global.html#getMinimalString">getMinimalString</a></li><li><a href="global.html#getParam">getParam</a></li><li><a href="global.html#getPrefix">getPrefix</a></li><li><a href="global.html#getString">getString</a></li><li><a href="global.html#getSuffix">getSuffix</a></li><li><a href="global.html#getTextLength">getTextLength</a></li><li><a href="global.html#isRoot">isRoot</a></li><li><a href="global.html#pop">pop</a></li><li><a href="global.html#push">push</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Global</h1>
    

    




<section>

<header>
    
        <h2>
        
            
        
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




            

            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addParam"><span class="type-signature"></span>addParam<span class="signature">(extra)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Add a replacement parameter to the string. This is a coding
for a replacement parameter in the programming language
or i18n library that does substitutions. By coding the replacement
parameters instead of leaving them in as-is, the strings are
normalized.<p>

This has two advantages. First, translations for strings
with the same text but different replacement parameter styles
can be shared across i18n libraries. For
example, some libraries use "C" style parameters like "%1s"
and others use named parameters like "{name}". That means
the translation of "User %1s logged in." and of "User {name}
logged in." should have the exact same translation.<p>

Second, the parameters can be numbered automatically so that
the translator has the freedom to re-arrange the parameters
in a string with multiple parameters as required by the
grammar of the target language. For some parameter styles
that use numbered parameters instead of named ones, the
caller may need to amend original parameter to insert the
number if the original code did not have it already. That
is bad style anyways and you should strongly discourage your
engineers from writing strings with multiple replacement
parameters that are unnumbered.<p>

Parameters appear in the composed string as XML tags that
are distinct from the component tags. When creating a
translated string, the parameters are substituted back
into the string.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line175">line 175</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>extra</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last">extra information that the caller can
use to identify the original replacement parameter</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="addText"><span class="type-signature"></span>addText<span class="signature">(text)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Add text to the current context of the string.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line131">line 131</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">the text to add</td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="create"><span class="type-signature"></span>create<span class="signature">(translated, source)</span><span class="type-signature"> &rarr; {MessageAccumulator}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Factory method to create a new MessageAccumulator instance from
the given string and a source message accumulator. This will
parse the string and create the equivalent tree from it, and
then attach the "extra" information from the source accumulator
to the equivalent nodes in the new accumulator. This includes
the source information for components and replacement parameters.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line67">line 67</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>translated</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last">the translated string to parse</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type">MessageAccumulator</span>



            
            </td>

            

            

            <td class="description last">the source message
for this translation</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    a new message accumulator
instance equivalent to the given string
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">MessageAccumulator</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getCurrentLevel"><span class="type-signature"></span>getCurrentLevel<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the current depth of the context stack. If the accumulator is
currently at the root, it will return 0.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line490">line 490</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the current depth of the context stack, or 0 if there
is nothing on the stack yet
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getExtra"><span class="type-signature"></span>getExtra<span class="signature">(componentNumber)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the mapping between components and the "extra"
information used when creating those components.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line512">line 512</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>componentNumber</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last">the number of the
component for which the "extra" information is
being sought</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the "extra" information that was
given when the component was created
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getMapping"><span class="type-signature"></span>getMapping<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the mappings between component names and
their "extra" information they represent.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line537">line 537</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the mapping between the
component names and their "extra" information.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getMinimalString"><span class="type-signature"></span>getMinimalString<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the message accumulated so far as a string, including
any components, and leaving out any contexts that are irrelevant
for translation purposes. This method is similar to getString()
with the irrelevant parts removed. This includes:

<ul>
<li>Any components that surround the entire message
<li>Any components that are at the beginning or end of the message
and which do not have any translatable text in them.
<li>Any text at the beginning or end of the string that only
contains whitespace.
</ul>

A minimal string must either start with non-whitespace text or end with
non-whitespace text or both.<p>

After all the irrelevant parts are removed, the remaining components
are renumbered so that the first one to appear starts at zero, the
second one is one, etc.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line444">line 444</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the accumuilated string so far with all irrelevant
components removed.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getParam"><span class="type-signature"></span>getParam<span class="signature">(paramNumber)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the mapping between a replacement parameter
and the "extra" information used when creating those
components.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line527">line 527</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>paramNumber</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last">the number of the
parameter for which the "extra" information is
being sought</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the "extra" information that was
given when the parameter was created
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getPrefix"><span class="type-signature"></span>getPrefix<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return all of the irrelevant parts of the string at the beginning
of the message.<p>

For a minimal string, all of the components that are irrelevant
for translation are removed. This method returns all of the irrelevant
components and text units that appear at the beginning of the string.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line415">line 415</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    an array of "extra" and text units that
are irrelevant
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getString"><span class="type-signature"></span>getString<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the message accumulated so far, including any components
as a string that contains "c" + a number to represent those
components.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line400">line 400</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the accumulated string so far
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getSuffix"><span class="type-signature"></span>getSuffix<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return all of the irrelevant parts of the string at the end
of the message.<p>

For a minimal string, all of the components that are irrelevant
for translation are removed. This method returns all of the irrelevant
components and text units that appear at the end of the string.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line460">line 460</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    an array of "extra" and text units that
are irrelevant
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getTextLength"><span class="type-signature"></span>getTextLength<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return the number of characters of non-whitespace text that
have been accumulated so far in this accumulator. Components
are left out.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line471">line 471</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the length of the non-whitespace text accumulated so far
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isRoot"><span class="type-signature"></span>isRoot<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Return true if the current context is the root of the message.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line498">line 498</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    true if the current context is the root
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="pop"><span class="type-signature"></span>pop<span class="signature">()</span><span class="type-signature"> &rarr; {Object|undefined}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Pop the current context from the stack and return to the previous
context. If the current context is already the root, then this
represents an unbalanced string.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    the extra information associated with the
context that is being popped, or undefined if we are already at the
root and there is nothing to pop
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">undefined</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="push"><span class="type-signature"></span>push<span class="signature">(extra, keep)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Create a new subcontext for a component such that all text
added to the accumulator goes into the new context.<p>

A component is represented in the composed string as an
XML tag that is numbered according to the order of the
components in the string. This class maintains a mapping
between the component number and the given "extra"
information so that this can be used to create a translated
accumulator with the same extra info. (See the
MessageAccumulator.create static function.)</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="message-accumulator.js.html">message-accumulator.js</a>, <a href="message-accumulator.js.html#line206">line 206</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>extra</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last">extra information that the caller would
like to associate with the component. For example, this may
be a node in an AST from parsing the original text.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keep</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            

            

            <td class="description last">true if this node should always be kept and
not optimized out during the getMinimalString</td>
        </tr>

    
    </tbody>
</table>



















        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Tue Jan 14 2025 12:02:37 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>